## ゴルーチンと無名関数


### 排他制御 (exclusion_control）
排他制御とは、複数のトランザクションから同じリソースに対して、同時に更新処理が行われる際に、データの整合性を保つために行う処理

### 排他制御処理の種類とメリデメ
- atomic
    - メリット：高速、簡単
    - デメリット：`AddInt32`などの単純な操作のみに限定
- sync.Mutex
    - メリット：複雑な操作を実現
    - デメリット：パフォーマンスの劣化、コードの複雑化

### `golang.org/x/sync`パッケージ
- errgroup：複数のゴルーチンでエラーハンドリングを行う
    - 全てのゴルーチンが完了する前にエラーが発生した場合でも、エラー処理を行った上で全てのゴルーチンが完了するまで待機することができる
    - context.Contextを利用してキャンセルを行える
- semaphore：リソースの過剰利用やシステムの過負荷を防ぐ
    - Webサーバーにおける同時リクエスト数の制限
    - データベースの同時接続数の制限
    - ファイルの同時アクセス数の制限
    - CPUリソースの同時利用数の制限
